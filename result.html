<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Segmentation Result</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/twentytwenty/css/twentytwenty.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://unpkg.com/jquery.event.move"></script>
  <script src="https://unpkg.com/twentytwenty"></script>
  <style>
    .twentytwenty-container { max-width: 700px; margin: auto; margin-top: 2rem; }
    .legend { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-top: 2rem; }
    .legend div { display: flex; align-items: center; gap: 0.5rem; }
    .legend-box { width: 20px; height: 20px; border-radius: 4px; display: inline-block; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen p-6 text-center">
  <h1 class="text-3xl font-bold text-gray-800 mb-4">Segmentation Result</h1>

  <!-- Slider comparison -->
  <div class="twentytwenty-container">
    <img src="{{ input_image }}" alt="Original Image" />
    <img src="{{ output_mask }}" alt="Predicted Mask" />
  </div>

  <h2 class="text-xl font-semibold mt-8 mb-2">Confidence Map</h2>
  <img src="{{ confidence_map }}" class="rounded-lg shadow-md w-full max-w-md mx-auto" alt="Confidence Map">

  <!-- Legend -->
  <div class="legend">
    <div><span class="legend-box" style="background:#0000FF"></span> Water</div>
    <div><span class="legend-box" style="background:#00FF00"></span> Vegetation</div>
    <div><span class="legend-box" style="background:#FFFF00"></span> Road</div>
    <div><span class="legend-box" style="background:#FF0000"></span> Building</div>
    <div><span class="legend-box" style="background:#800080"></span> Land</div>
    <div><span class="legend-box" style="background:#FFA500"></span> Unlabeled</div>
  </div>

  <div class="mt-6 flex flex-col items-center space-y-2">
    <a href="{{ output_mask }}" download class="text-white bg-green-500 px-4 py-2 rounded hover:bg-green-600">Download Mask</a>
    <a href="/" class="text-blue-600 hover:underline">Try another image</a>
  </div>

  <script>
    $(function(){
      $(".twentytwenty-container").twentytwenty();
    });
  </script>
</body>
</html>